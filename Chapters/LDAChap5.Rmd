

# Aggregate Loss Models 

**Draft - Chapter Not Yet Complete**

<br>

**Chapter description**

This chapter introduces probability models for describing the aggregate (total) claims that arise from a portfolio of insurance contracts. We present two standard modeling approaches, the individual risk model and the collective risk model. Further, we discuss strategies for computing the distribution of the aggregate claims, including exact methods for special cases, recursion, and simulation. Finally, we examine the effects of individual policy modifications such as deductibles, coinsurance, and inflation, on the frequency and severity distributions, and thus on the aggregate loss distribution.

Although not needed to go through the tutorials, some users may wish to download the overheads used in the videos. <button download><a href="https://raw.githubusercontent.com/OpenActTextDev/LDACourse1/main/LDA1.Overheads/LDA1.Chap5.pdf">Download Chapter Five overheads as a .pdf file.</a></button>

## Introduction 

***

In this section, we learn how to:

- Record aggregated losses from an insurance system
- Identify actuarial applications of aggregate loss models

***

####  Video: Introduction to Aggregate Loss Models {-}

<center>

<iframe id="kaltura_player"  src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_bock2cl4&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_1bqvxhby" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Introduction to Aggregate Loss Models (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect51A')">A. Basic Terminology</button>
  <button class="tablinks" onclick="openTab(event, 'Sect51B')">B. Goal</button>
  <button class="tablinks" onclick="openTab(event, 'Sect51C')">C. Models</button>
  <button class="tablinks" onclick="openTab(event, 'Sect51D')">D. Example</button>
  <button class="tablinks" onclick="openTab(event, 'Sect51E')">E. Applications</button>
      </div>

<div id="Sect51A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=3" width="100%" height="400"> </iframe>
  </div>
<div id="Sect51B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=4" width="100%" height="400"> </iframe>
  </div>
<div id="Sect51C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=5" width="100%" height="400"> </iframe>
  </div>
<div id="Sect51D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=7" width="100%" height="400"> </iframe>
  </div>
<div id="Sect51E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=8" width="100%" height="400"> </iframe>
  </div>


### Exercise. Claim Frequency

**Next include one or two exercises per section. Here is one example.**

**Assignment Text**

The Wisconsin Property Fund data has already been read into a data frame called `Insample`. These data consist of claim experience for fund members over the years 2006-2010, inclusive. It includes the frequency of claims `Freq` as well as the claim year `Year`. The video explored the distribution of the claims frequency for year 2010; in this assignment, we replicate this analysis and conduct a similar investigation for year 2009.


:::: {.blackbox }
**Instructions**. For each year:


-  Use the function [subset()](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/subset) to create a smaller data set based on a single year.
-  Define the frequency as a global variable.
-  Use the function [length()](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/length) to determine the number of observations in a vector.
-  Use the function [mean()](https://www.rdocumentation.org/packages/base/versions/3.5.0/topics/mean/) to calculate the average.
-  Use the function [table()](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table) to tabulate the frequency distribution.
::::


```{r ex="LDA1.5.3.1", type="hint", tut=TRUE}
Take some time to explore the online `R` documentation.

Note the double equal signs `==` needed for the the `subset()` function.
```


```{r ex="LDA1.5.3.1", type="pre-exercise-code", tut=TRUE}
Insample <- read.csv("https://raw.githubusercontent.com/OpenActTextDev/LDACourse1/main/Data/Insample.csv", header=T,
                      na.strings=c("."), stringsAsFactors=FALSE)
```


```{r ex="LDA1.5.3.1", type="sample-code", tut=TRUE}
#  Analysis for Year 2010
Insample2010 <- subset(Insample, Year==2010)
Freq2010 <- Insample2010$Freq
length(Freq2010)
mean(Freq2010)
table(Freq2010)

#  Analysis for Year 2009
Insample2009 <- ___
Freq2009 <- ___
length(___)
mean(___)
table(___)
```


```{r ex="LDA1.5.3.1", type="solution", tut=TRUE}
#  Analysis for Year 2010
Insample2010 <- subset(Insample, Year==2010)
Freq2010 <- Insample2010$Freq
length(Freq2010)
mean(Freq2010)
table(Freq2010)

#  Analysis for Year 2009
Insample2009 <- subset(Insample, Year==2009)
Freq2009 <- Insample2009$Freq
length(Freq2009)
mean(Freq2009)
table(Freq2009)
```

```{r ex="LDA1.5.3.1", type="sct", tut=TRUE}
success_msg("Getting started is always the hardest thing to do. Excellent start!")
```

***

```{r child = './Quizzes/Quiz51.html', eval = QUIZ}
```


## Individual Risk Model

***

In this section, we learn how to:

- Build an individual risk model for a portfolio of insurance contracts
- Apply individual risk model to life and nonlife insurance
- Compute the distribution of aggregate losses from an individual risk model

***

####  Video: Individual Risk Model {-}

<center>

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_ndjyp3ql&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_ivcxtqyq" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Individual Risk Model (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect52A')">A. Individual Risk Model</button>
  <button class="tablinks" onclick="openTab(event, 'Sect52B')">B. Applications</button>
  <button class="tablinks" onclick="openTab(event, 'Sect52C')">C. Example</button>
  <button class="tablinks" onclick="openTab(event, 'Sect52D')">D. Aggregate Loss Distribution</button>
  <button class="tablinks" onclick="openTab(event, 'Sect52E')">E. R Example #1</button>
  <button class="tablinks" onclick="openTab(event, 'Sect52F')">F. R Example #2</button>
      </div>

<div id="Sect52A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=10" width="100%" height="400"> </iframe>
  </div>
<div id="Sect52B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=11" width="100%" height="400"> </iframe>
  </div>
<div id="Sect52C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=13" width="100%" height="400"> </iframe>
  </div>
<div id="Sect52D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=15" width="100%" height="400"> </iframe>
  </div>
<div id="Sect52E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=16" width="100%" height="400"> </iframe>
  </div>
<div id="Sect52F" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=17" width="100%" height="400"> </iframe>
  </div>




```{r child = './Quizzes/Quiz52.html', eval = QUIZ}
```


## Collective Risk Model  - Part I
***

**Start with section learning objectives, often taken directly from the book**

In this section, we learn how to:

- Build a collective risk model for a portfolio of insurance contracts
- Calculate mean and variance of the aggregate loss
- Fit frequency and severity components in a collective risk model

***

####  Video: Collective Risk Model - Part I {-}

<center>

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_w76qa2ja&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_g39djg7z" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Collective Risk Model  - Part I (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect531A')">A. Collective Risk Model</button>
  <button class="tablinks" onclick="openTab(event, 'Sect531B')">B. Compound Distribution</button>
  <button class="tablinks" onclick="openTab(event, 'Sect531C')">C. Moments</button>
  <button class="tablinks" onclick="openTab(event, 'Sect531D')">D. Model Fitting</button>
  <button class="tablinks" onclick="openTab(event, 'Sect531E')">E. Model Fitting - Property Fund</button>
      </div>

<div id="Sect531A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=20" width="100%" height="400"> </iframe>
  </div>
<div id="Sect531B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=21" width="100%" height="400"> </iframe>
  </div>
<div id="Sect531C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=22" width="100%" height="400"> </iframe>
  </div>
<div id="Sect531D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=23" width="100%" height="400"> </iframe>
  </div>
<div id="Sect531E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=24" width="100%" height="400"> </iframe>
  </div>


## Collective Risk Model - Part II

***


In this section, we learn how to:

-  Compute the aggregate loss distribution
-  Implement numerical strategies in `R`

***

####  Video: Collective Risk Model  - Part II {-}

<center>

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_37zojz7d&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_v2a227tt" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Collective Risk Model  - Part II (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect532A')">A. Computing the Aggregate Loss Distribution</button>
  <button class="tablinks" onclick="openTab(event, 'Sect532B')">B. Direct Calculation</button>
  <button class="tablinks" onclick="openTab(event, 'Sect532C')">C. Direct Calculation - R Code</button>
  <button class="tablinks" onclick="openTab(event, 'Sect532D')">D. Recursive Method</button>
  <button class="tablinks" onclick="openTab(event, 'Sect532E')">E. Recursive Method - R Code</button>
  <button class="tablinks" onclick="openTab(event, 'Sect532F')">F. Monte Carlo Simulation</button>
      </div>

<div id="Sect532A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=29" width="100%" height="400"> </iframe>
  </div>
<div id="Sect532B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=30" width="100%" height="400"> </iframe>
  </div>
<div id="Sect532C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=32" width="100%" height="400"> </iframe>
  </div>
<div id="Sect532D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=34" width="100%" height="400"> </iframe>
  </div>
<div id="Sect532E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=36" width="100%" height="400"> </iframe>
  </div>
<div id="Sect532F" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=37" width="100%" height="400"> </iframe>
  </div>


```{r child = './Quizzes/Quiz53.html', eval = QUIZ}
```



## Tweedie Distribution 


In this section, we learn how to:

*  Construct the Tweedie distribution from a collective risk model
*  Establish the Tweedie distribution as a member of the exponential family of distributions
*  Fit Tweedie distribution as a generalized linear model

***



####  Video: Tweedie Distribution {-}

<center>

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_lxnu6a93&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_jjd6r5f9" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Tweedie Distribution (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect54A')">A. Tweedie Distribution</button>
  <button class="tablinks" onclick="openTab(event, 'Sect54B')">B. Tweedie Distribution with Exposure</button>
  <button class="tablinks" onclick="openTab(event, 'Sect54C')">C. Distribution Function for Tweedie Distribution</button>
  <button class="tablinks" onclick="openTab(event, 'Sect54D')">D. Example</button>
  <button class="tablinks" onclick="openTab(event, 'Sect54E')">E. Example - R Code</button>
      </div>

<div id="Sect54A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=41" width="100%" height="400"> </iframe>
  </div>
<div id="Sect54B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=42" width="100%" height="400"> </iframe>
  </div>
<div id="Sect54C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=43" width="100%" height="400"> </iframe>
  </div>
<div id="Sect54D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=45" width="100%" height="400"> </iframe>
  </div>
<div id="Sect54E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=46" width="100%" height="400"> </iframe>
  </div>


## Effects of Coverage Modifications

***

In this section, we learn how to:

- Examine the impact of aggregate deductible on the aggregate loss
- Examine the effect of per-occurrence deductible on frequency and severity components in the aggregate loss

***

####  Video: Effects of Coverage Modifications {-}

<center>

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/25717641/partner_id/1660902?iframeembed=true&playerId=kaltura_player&entry_id=1_ux66n6m1&flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=1_t0nnom35" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *"  frameborder="0" title="Kaltura Player"></iframe>

</center>

#### Overheads: Effects of Coverage Modifications (Click Tab to View) {-}

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Sect55A')">A. Aggregate Deductible</button>
  <button class="tablinks" onclick="openTab(event, 'Sect55B')">B. Per-occurrence Deductible</button>
  <button class="tablinks" onclick="openTab(event, 'Sect55C')">C. Per-occurrence Deductible and Frequency</button>
  <button class="tablinks" onclick="openTab(event, 'Sect55D')">D. Example</button>
  <button class="tablinks" onclick="openTab(event, 'Sect55E')">E. Per-occurrence Deductible</button>
      </div>

<div id="Sect55A" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=51" width="100%" height="400"> </iframe>
  </div>
<div id="Sect55B" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=53" width="100%" height="400"> </iframe>
  </div>
<div id="Sect55C" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=54" width="100%" height="400"> </iframe>
  </div>
<div id="Sect55D" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=56" width="100%" height="400"> </iframe>
  </div>
<div id="Sect55E" class="tabcontent">
  <span onclick="this.parentElement.style.display='none'" class="topright">Hide</span>
  <iframe src="./Overheads/LDA1.Chap5.pdf#page=58" width="100%" height="400"> </iframe>
  </div>



```{r child = './Quizzes/Quiz55.html', eval = QUIZ}
```


